@page "/"
@using DealershipLibrary.Vehicle.Cars
@using DealershipLibrary

<h1>Shaden's Dealership</h1>

<span>
    <select @onchange="(e)=>SelectVehicle(e.Value.ToString())">
        @foreach (var item in vehicleTypesList)
        {
            <option value="@item">@item</option>
        }
    </select>

    <span>@message</span>

    @if (vehicle == VehicleTypes.Car)
    {
        <CarComponent OnClick="vehicleAdded"></CarComponent> //car component 
    }
    else if(vehicle == VehicleTypes.Motorcycle)
    {
        <MotorcycleComponent OnClick="vehicleAdded"></MotorcycleComponent> //Motorcycle component 
    }
    else if(vehicle == VehicleTypes.Truck)
    {
        <TruckComponent OnClick="vehicleAdded"></TruckComponent> //Truck component  
    }

</span>


@code
{
    List<string> vehicleTypesList = Extensions.GetEnumItems(typeof(VehicleTypes));

    string message;
    VehicleTypes vehicle;
    void SelectVehicle(string value)
    {
        this.vehicle = (VehicleTypes)System.Enum.Parse(typeof(VehicleTypes), value);
    }

    void vehicleAdded(string value)
    {
        this.message = value;
    }
}